<div class="reports-main">
  <header>
    <span class="reports-title">Reportes</span>
  </header>

  <!-- Tabs -->
  <div class="reports-tabs">
    <button [class.active]="activeTab === 'diario'" (click)="selectTab('diario')">Diario</button>
    <button [class.active]="activeTab === 'semanal'" (click)="selectTab('semanal')">Semanal</button>
    <button [class.active]="activeTab === 'mensual'" (click)="selectTab('mensual')">Mensual</button>
  </div>

  <!-- Card y grÃ¡fica -->
  <div class="reports-card">
    <div class="chart-container">
      <canvas
        baseChart
        [data]="barChartData"
        [options]="barChartOptions"
        type="bar">
      </canvas>
    </div>
    <div class="average-box">
      <span>
        Somnolencia promedio: 
        <b>{{ getBarChartAverage() | number: '1.1-1' }}</b>
        <small *ngIf="activeTab === 'diario'">Promedio diario</small>
        <small *ngIf="activeTab === 'semanal'">Promedio semanal</small>
        <small *ngIf="activeTab === 'mensual'">Promedio mensual</small>
      </span>
    </div>
    <div class="export">
      <span>Exportar datos:</span>
      <button (click)="exportarCorreo()" [disabled]="exportando">
        {{ exportando ? 'Enviando...' : 'Enviar informe a su correo' }}
      </button>
    </div>
  </div>

  <!-- Footer -->
  <nav class="nav-bottom">
    <div class="nav-btn" (click)="goTo('home')">
      <span class="material-icons">home</span>
      <div>Inicio</div>
    </div>
    <div class="nav-btn" (click)="goTo('history')">
      <span class="material-icons">history</span>
      <div>Alertas</div>
    </div>
    <div class="nav-btn active">
      <span class="material-icons">analytics</span>
      <div>Reportes</div>
    </div>
  </nav>
</div>
