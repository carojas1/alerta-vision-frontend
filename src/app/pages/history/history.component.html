<div class="history-container">
  <h1 class="history-title">Historial de Alertas</h1>

  <div class="alert-list">
    <div 
      class="alert-item glow-border" 
      *ngFor="let alert of alerts">
      
      <div class="alert-indicator"></div>

      <div class="alert-content">
        <div class="alert-message">
          {{ alert.message }}
        </div>

        <div class="alert-date-time">
          <span class="alert-date">
            {{ formatDateTime(alert.created_at || alert.createdAt).fecha }}
          </span>
          <span class="alert-time">
            {{ formatDateTime(alert.created_at || alert.createdAt).hora }}
          </span>
        </div>
      </div>

      <a
        *ngIf="loggedInUserPhone"
        class="whatsapp-link-btn"
        [href]="'https://wa.me/' + loggedInUserPhone + '?text=' + encode(alert.message)"
        target="_blank">
        Mandar al NÃºmero
      </a>
    </div>
  </div>

  <nav class="bottom-nav">
    <div class="nav-btn" (click)="goTo('home')">
      <img src="/fluent-color--home-32.svg" alt="Inicio" class="nav-icon" />
      <span>Inicio</span>
    </div>

    <div class="nav-btn active" (click)="goTo('history')">
      <img src="/icon-park--history-query.svg" alt="Alertas" class="nav-icon" />
      <span>Alertas</span>
    </div>

    <div class="nav-btn" (click)="goTo('reports')">
      <img src="/iconoir--reports-solid.svg" alt="Reportes" class="nav-icon" />
      <span>Reportes</span>
    </div>
  </nav>
</div>
