<div class="history-container">
  <h1 class="history-title">Historial de Alertas</h1>
  <div class="alert-list" [@listAnimation]>
    <div class="alert-item" *ngFor="let alert of alerts" [@itemAnim]>
      <div class="alert-message">{{ alert.message }}</div>
      <div class="alert-date-time">
        <span class="alert-date">
          {{ formatDateTime(alert.created_at || alert.createdAt).fecha }}
        </span>
        <span class="alert-time">
          {{ formatDateTime(alert.created_at || alert.createdAt).hora }}
        </span>
      </div>
      <a
        *ngIf="alert.telefonoUsuario"
        class="whatsapp-link-btn"
        [href]="'https://wa.me/' + alert.telefonoUsuario.replace('+', '') + '?text=' + encode(alert.message)"
        target="_blank"
      >
        <img src="/whatsapp-logo.svg" class="wa-icon" alt="WhatsApp" />
        Enviar por WhatsApp
      </a>
    </div>
  </div>

  <!-- MenÃº inferior -->
  <nav class="bottom-nav">
    <div class="nav-btn" (click)="goTo('home')">
      <img src="/fluent-color--home-32.svg" alt="Inicio" class="nav-icon" />
    </div>
    <div class="nav-btn active" (click)="goTo('history')">
      <img src="/icon-park--history-query.svg" alt="Alertas" class="nav-icon" />
    </div>
    <div class="nav-btn" (click)="goTo('reports')">
      <img src="/iconoir--reports-solid.svg" alt="Reportes" class="nav-icon" />
    </div>
  </nav>
</div>
